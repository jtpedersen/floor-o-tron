{
    "name": "Duty Cycle Controller",
    "version": "0.0.3",
    "slug": "duty_cycle_controller",
    "description": "Manage underfloor heating using duty cycle logic.",
    "url": "https://github.com/jtpedersen/floor-o-tron/tree/main/duty-cycle-controller",
    "arch": ["armv7", "aarch64", "amd64", "i386"],
    "startup": "application",
    "boot": "auto",
    "ports": {
        "5050/tcp": 5050
    },
    "map": ["config", "ssl", "share", "addons"],
    "options": {
        "heater_switch": "switch.your_heating_switch",
        "duty_cycle_percentage": 50,
        "min_pulse_width": "15 minutes",
        "history_duration": "1 hour",
        "adjustment_interval": "5 minutes"
    },
    "schema": {
        "heater_switch": {
            "oneOf": [
                {
                    "type": "string",
                    "description": "A single switch entity ID."
                },
                {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "description": "A list of switch entity IDs."
                    }
                }
            ]
        },
        "duty_cycle_percentage": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100,
            "default": 50,
            "description": "The target duty cycle percentage (0-100)."
        },
        "min_pulse_width": {
            "type": "string",
            "default": "15 minutes",
            "description": "The minimum on/off time in a human-readable format."
        },
        "history_duration": {
            "type": "string",
            "default": "1 hour",
            "description": "The duration for duty cycle analysis in a human-readable format."
        },
        "adjustment_interval": {
            "type": "string",
            "default": "5 minutes",
            "description": "The time between duty cycle checks in a human-readable format."
        }
    },
    "build_from": {
        "amd64": "local/duty-cycle-controller:0.0.3"
    }
}
